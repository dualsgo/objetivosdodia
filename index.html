<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora de Metas</title>
    <script>
        async function calcularMetas() {
            const data = {
                meta_loja: document.getElementById('meta_loja').value,
                meta_pickup: document.getElementById('meta_pickup').value,
                meta_shipfrom: document.getElementById('meta_shipfrom').value,
                num_vendedores: document.getElementById('num_vendedores').value,
                meta_tkm: document.getElementById('meta_tkm').value,
                meta_pa: document.getElementById('meta_pa').value,
                meta_pilhas: document.getElementById('meta_pilhas').value,
                meta_sacolas: document.getElementById('meta_sacolas').value,
                meta_baralhos: document.getElementById('meta_baralhos').value,
                nome_opcional: document.getElementById('nome_opcional').value,
                meta_opcional: document.getElementById('meta_opcional').value
            };

            const response = await fetch('http://127.0.0.1:5000/calcular_metas', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(data)
            });

            const result = await response.json();
            document.getElementById('resultado').innerText = result.mensagem || 'Erro ao calcular';
        }
    </script>
</head>
<body>
    <h2>Calculadora de Metas</h2>
    <label>Meta Loja (R$): <input type="number" id="meta_loja"></label><br>
    <label>Meta Pick-Up (R$): <input type="number" id="meta_pickup"></label><br>
    <label>Meta Ship-From (R$): <input type="number" id="meta_shipfrom"></label><br>
    <label>NÃºmero de Vendedores: <input type="number" id="num_vendedores"></label><br>
    <label>Meta TKM (R$): <input type="number" id="meta_tkm"></label><br>
    <label>Meta PA: <input type="number" id="meta_pa"></label><br>
    <label>Meta PILHAS: <input type="number" id="meta_pilhas"></label><br>
    <label>Meta SACOLAS: <input type="number" id="meta_sacolas"></label><br>
    <label>Meta BARALHOS: <input type="number" id="meta_baralhos"></label><br>
    <label>Meta Opcional: <input type="text" id="nome_opcional"> <input type="number" id="meta_opcional"></label><br>
    <button onclick="calcularMetas()">Calcular</button>
    <p id="resultado"></p>
</body>
</html>
